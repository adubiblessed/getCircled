<!DOCTYPE html>
<html>
<head>
    <title>Register</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'blue-lightest': '#deecfb',
                        'blue-light': '#bedaf7',
                        'blue-medium': '#7ab3ef',
                        'blue-primary': '#368ce7',
                        'blue-dark': '#1666ba',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        /* Switch styling for organiser checkbox */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
            margin: 10px 0;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }

        input:checked + .slider {
            background-color: #368ce7;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }
    </style>
</head>
<body class="bg-blue-lightest min-h-screen p-8">
    <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8">
        <h1 class="text-3xl font-bold text-blue-dark mb-6">Register</h1>
        
        <form method="post">
            {% csrf_token %}
            
            <!-- Display non-field errors (general form errors) -->
            {% if form.non_field_errors %}
                <div class="bg-red-100 border border-red-300 rounded px-3 py-2 my-2 text-red-800">
                    {{ form.non_field_errors }}
                </div>
            {% endif %}

            <!-- Display success messages if any -->
            {% if messages %}
                {% for message in messages %}
                    <div class="bg-blue-lightest border border-blue-light rounded px-3 py-2 my-2 text-blue-dark">{{ message }}</div>
                {% endfor %}
            {% endif %}

            <!-- First Name Field -->
            <div class="mb-4">
                <label class="block mb-2 font-bold text-gray-700">{{ form.first_name.label }}</label>
                <input type="text" name="first_name" value="{{ form.first_name.value|default:'' }}" 
                       class="w-full px-3 py-2 border {% if form.first_name.errors %}border-red-500 shadow-red-200{% else %}border-gray-300{% endif %} rounded focus:outline-none focus:ring-2 focus:ring-blue-primary focus:border-transparent">
                {% if form.first_name.errors %}
                    <ul class="bg-red-100 border border-red-300 rounded px-3 py-2 mt-1 list-none text-red-800 text-sm">
                        {% for error in form.first_name.errors %}
                            <li class="my-0 py-0">{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.first_name.help_text %}
                    <div class="block text-gray-600 text-sm bg-blue-lightest px-3 py-2 border-l-4 border-blue-primary rounded mt-1">{{ form.first_name.help_text }}</div>
                {% endif %}
            </div>

            <!-- Last Name Field -->
            <div class="mb-4">
                <label class="block mb-2 font-bold text-gray-700">{{ form.last_name.label }}</label>
                <input type="text" name="last_name" value="{{ form.last_name.value|default:'' }}" 
                       class="w-full px-3 py-2 border {% if form.last_name.errors %}border-red-500 shadow-red-200{% else %}border-gray-300{% endif %} rounded focus:outline-none focus:ring-2 focus:ring-blue-primary focus:border-transparent">
                {% if form.last_name.errors %}
                    <ul class="bg-red-100 border border-red-300 rounded px-3 py-2 mt-1 list-none text-red-800 text-sm">
                        {% for error in form.last_name.errors %}
                            <li class="my-0 py-0">{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.last_name.help_text %}
                    <div class="block text-gray-600 text-sm bg-blue-lightest px-3 py-2 border-l-4 border-blue-primary rounded mt-1">{{ form.last_name.help_text }}</div>
                {% endif %}
            </div>

            <!-- Phone Number Field -->
            <div class="mb-4">
                <label class="block mb-2 font-bold text-gray-700">{{ form.phone_no.label }}</label>
                <input type="text" name="phone_no" value="{{ form.phone_no.value|default:'' }}" 
                       class="w-full px-3 py-2 border {% if form.phone_no.errors %}border-red-500 shadow-red-200{% else %}border-gray-300{% endif %} rounded focus:outline-none focus:ring-2 focus:ring-blue-primary focus:border-transparent">
                {% if form.phone_no.errors %}
                    <ul class="bg-red-100 border border-red-300 rounded px-3 py-2 mt-1 list-none text-red-800 text-sm">
                        {% for error in form.phone_no.errors %}
                            <li class="my-0 py-0">{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.phone_no.help_text %}
                    <div class="block text-gray-600 text-sm bg-blue-lightest px-3 py-2 border-l-4 border-blue-primary rounded mt-1">{{ form.phone_no.help_text }}</div>
                {% endif %}
            </div>

            <!-- Email Field -->
            <div class="mb-4">
                <label class="block mb-2 font-bold text-gray-700">{{ form.email.label }}</label>
                <input type="email" name="email" value="{{ form.email.value|default:'' }}" 
                       class="w-full px-3 py-2 border {% if form.email.errors %}border-red-500 shadow-red-200{% else %}border-gray-300{% endif %} rounded focus:outline-none focus:ring-2 focus:ring-blue-primary focus:border-transparent">
                {% if form.email.errors %}
                    <ul class="bg-red-100 border border-red-300 rounded px-3 py-2 mt-1 list-none text-red-800 text-sm">
                        {% for error in form.email.errors %}
                            <li class="my-0 py-0">{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.email.help_text %}
                    <div class="block text-gray-600 text-sm bg-blue-lightest px-3 py-2 border-l-4 border-blue-primary rounded mt-1">{{ form.email.help_text }}</div>
                {% endif %}
            </div>

            <!-- Password 1 Field -->
            <div class="mb-4">
                <label class="block mb-2 font-bold text-gray-700">{{ form.password1.label }}</label>
                <input type="password" name="password1" 
                       class="w-full px-3 py-2 border {% if form.password1.errors %}border-red-500 shadow-red-200{% else %}border-gray-300{% endif %} rounded focus:outline-none focus:ring-2 focus:ring-blue-primary focus:border-transparent">
                {% if form.password1.errors %}
                    <ul class="bg-red-100 border border-red-300 rounded px-3 py-2 mt-1 list-none text-red-800 text-sm">
                        {% for error in form.password1.errors %}
                            <li class="my-0 py-0">{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.password1.help_text %}
                    <div class="block text-gray-600 text-sm bg-blue-lightest px-3 py-2 border-l-4 border-blue-primary rounded mt-1">{{ form.password1.help_text }}</div>
                {% endif %}
            </div>

            <!-- Password 2 Field -->
            <div class="mb-4">
                <label class="block mb-2 font-bold text-gray-700">{{ form.password2.label }}</label>
                <input type="password" name="password2" 
                       class="w-full px-3 py-2 border {% if form.password2.errors %}border-red-500 shadow-red-200{% else %}border-gray-300{% endif %} rounded focus:outline-none focus:ring-2 focus:ring-blue-primary focus:border-transparent">
                {% if form.password2.errors %}
                    <ul class="bg-red-100 border border-red-300 rounded px-3 py-2 mt-1 list-none text-red-800 text-sm">
                        {% for error in form.password2.errors %}
                            <li class="my-0 py-0">{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.password2.help_text %}
                    <div class="block text-gray-600 text-sm bg-blue-lightest px-3 py-2 border-l-4 border-blue-primary rounded mt-1">{{ form.password2.help_text }}</div>
                {% endif %}
            </div>

            <!-- Organiser Checkbox -->
            <div class="mb-6">
                <label class="switch">
                    {{ form.is_organiser }}
                    <span class="slider round"></span>
                </label>
                <span class="ml-2 text-gray-700">I am an organiser</span>
                {% if form.is_organiser.errors %}
                    <ul class="bg-red-100 border border-red-300 rounded px-3 py-2 mt-1 list-none text-red-800 text-sm">
                        {% for error in form.is_organiser.errors %}
                            <li class="my-0 py-0">{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>

            <div>
                <button type="submit" class="bg-blue-primary text-white px-5 py-3 rounded cursor-pointer text-base hover:bg-blue-dark transition-colors duration-200">Register</button>
            </div>
        </form>
    </div>
</body>
</html>